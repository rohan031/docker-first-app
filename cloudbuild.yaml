steps:
    # build the container image
        - name: "gcr.io/cloud-builders/docker"
    args:
        [
            "build",
            "-t",
            "us-west2-docker.pkg.dev/nextjs-411012/nextjs/nextjs-docker-image:tag1",
            ".",
        ]

    # push the image to the artifact registry
    - name: "gcr.io/cloud-builders/docker"
    args:
        [
            "push",
            "us-west2-docker.pkg.dev/nextjs-411012/nextjs/nextjs-docker-image:tag1",
        ]

    # deploy image to google cloud run
    - name : "gcr.io/google.com/cloudsdktool/cloud-sdk"
    entrypoint: gcloud
    args: ["run", "depoly", "nextjs-docker-image", "--image", "us-west2-docker.pkg.dev/nextjs-411012/nextjs/nextjs-docker-image:tag1", "--region", "us-west2"]
images:
- "us-west2-docker.pkg.dev/nextjs-411012/nextjs/nextjs-docker-image:tag1"